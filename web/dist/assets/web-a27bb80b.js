import{W as u}from"./index-88116925.js";class o{constructor(s){this.audio=s}}class e extends u{async resume(s){const t=this.getAudioAsset(s.assetId).audio;if(t.paused)return t.play()}async pause(s){return this.getAudioAsset(s.assetId).audio.pause()}async getCurrentTime(s){return{currentTime:this.getAudioAsset(s.assetId).audio.currentTime}}async getDuration(s){const t=this.getAudioAsset(s.assetId).audio;if(Number.isNaN(t.duration))throw"no duration available";if(!Number.isFinite(t.duration))throw"duration not available => media resource is streaming";return{duration:t.duration}}async configure(s){throw"configure is not supported for web: ".concat(JSON.stringify(s))}async preload(s){var t;if(e.AUDIO_ASSET_BY_ASSET_ID.has(s.assetId))throw"AssetId already exists. Unload first if like to change!";if(!(!((t=s.assetPath)===null||t===void 0)&&t.length))throw"no assetPath provided";if(!s.isUrl&&!new RegExp("^/?"+e.FILE_LOCATION).test(s.assetPath)){const i=s.assetPath.startsWith("/")?"":"/";s.assetPath="".concat(e.FILE_LOCATION).concat(i).concat(s.assetPath)}const a=new Audio(s.assetPath);a.autoplay=!1,a.loop=!1,a.preload="auto",s.volume&&(a.volume=s.volume),e.AUDIO_ASSET_BY_ASSET_ID.set(s.assetId,new o(a))}async play(s){var t;const a=this.getAudioAsset(s.assetId).audio;return await this.stop(s),a.loop=!1,a.currentTime=(t=s.time)!==null&&t!==void 0?t:0,a.play()}async loop(s){const t=this.getAudioAsset(s.assetId).audio;return await this.stop(s),t.loop=!0,t.play()}async stop(s){const t=this.getAudioAsset(s.assetId).audio;t.pause(),t.loop=!1,t.currentTime=0}async unload(s){await this.stop(s),e.AUDIO_ASSET_BY_ASSET_ID.delete(s.assetId)}async setVolume(s){if(typeof(s==null?void 0:s.volume)!="number")throw"no volume provided";const t=this.getAudioAsset(s.assetId).audio;t.volume=s.volume}async isPlaying(s){return{isPlaying:!this.getAudioAsset(s.assetId).audio.paused}}getAudioAsset(s){if(this.checkAssetId(s),!e.AUDIO_ASSET_BY_ASSET_ID.has(s))throw'no asset for assetId "'.concat(s,'" available. Call preload first!');return e.AUDIO_ASSET_BY_ASSET_ID.get(s)}checkAssetId(s){if(typeof s!="string")throw"assetId must be a string";if(!(s!=null&&s.length))throw"no assetId provided"}}e.FILE_LOCATION="assets/sounds";e.AUDIO_ASSET_BY_ASSET_ID=new Map;export{e as NativeAudioWeb};
